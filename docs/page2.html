
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;https://bootswatch.com/flatly/bootstrap.min.css&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">HTTPError</span>                                 Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-3-3793e5cdc67f&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-green-intense-fg ansi-bold">from</span> IPython<span class="ansi-yellow-intense-fg ansi-bold">.</span>display <span class="ansi-green-intense-fg ansi-bold">import</span> HTML
<span class="ansi-green-fg">      2</span> <span class="ansi-green-intense-fg ansi-bold">import</span> urllib2
<span class="ansi-green-intense-fg ansi-bold">----&gt; 3</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>HTML<span class="ansi-yellow-intense-fg ansi-bold">(</span>urllib2<span class="ansi-yellow-intense-fg ansi-bold">.</span>urlopen<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">&#39;https://bootswatch.com/flatly/bootstrap.min.css&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>read<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-intense-fg ansi-bold">(url, data, timeout, cafile, capath, cadefault, context)</span>
<span class="ansi-green-fg">    152</span>     <span class="ansi-green-intense-fg ansi-bold">else</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    153</span>         opener <span class="ansi-yellow-intense-fg ansi-bold">=</span> _opener
<span class="ansi-green-intense-fg ansi-bold">--&gt; 154</span><span class="ansi-yellow-intense-fg ansi-bold">     </span><span class="ansi-green-intense-fg ansi-bold">return</span> opener<span class="ansi-yellow-intense-fg ansi-bold">.</span>open<span class="ansi-yellow-intense-fg ansi-bold">(</span>url<span class="ansi-yellow-intense-fg ansi-bold">,</span> data<span class="ansi-yellow-intense-fg ansi-bold">,</span> timeout<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    155</span> 
<span class="ansi-green-fg">    156</span> <span class="ansi-green-intense-fg ansi-bold">def</span> install_opener<span class="ansi-yellow-intense-fg ansi-bold">(</span>opener<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">open</span><span class="ansi-blue-intense-fg ansi-bold">(self, fullurl, data, timeout)</span>
<span class="ansi-green-fg">    433</span>         <span class="ansi-green-intense-fg ansi-bold">for</span> processor <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>process_response<span class="ansi-yellow-intense-fg ansi-bold">.</span>get<span class="ansi-yellow-intense-fg ansi-bold">(</span>protocol<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    434</span>             meth <span class="ansi-yellow-intense-fg ansi-bold">=</span> getattr<span class="ansi-yellow-intense-fg ansi-bold">(</span>processor<span class="ansi-yellow-intense-fg ansi-bold">,</span> meth_name<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 435</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>response <span class="ansi-yellow-intense-fg ansi-bold">=</span> meth<span class="ansi-yellow-intense-fg ansi-bold">(</span>req<span class="ansi-yellow-intense-fg ansi-bold">,</span> response<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    436</span> 
<span class="ansi-green-fg">    437</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> response

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">http_response</span><span class="ansi-blue-intense-fg ansi-bold">(self, request, response)</span>
<span class="ansi-green-fg">    546</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-cyan-intense-fg ansi-bold">200</span> <span class="ansi-yellow-intense-fg ansi-bold">&lt;=</span> code <span class="ansi-yellow-intense-fg ansi-bold">&lt;</span> <span class="ansi-cyan-intense-fg ansi-bold">300</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    547</span>             response = self.parent.error(
<span class="ansi-green-intense-fg ansi-bold">--&gt; 548</span><span class="ansi-yellow-intense-fg ansi-bold">                 &#39;http&#39;, request, response, code, msg, hdrs)
</span><span class="ansi-green-fg">    549</span> 
<span class="ansi-green-fg">    550</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> response

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">error</span><span class="ansi-blue-intense-fg ansi-bold">(self, proto, *args)</span>
<span class="ansi-green-fg">    471</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> http_err<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    472</span>             args <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>dict<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-blue-intense-fg ansi-bold">&#39;default&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-blue-intense-fg ansi-bold">&#39;http_error_default&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-yellow-intense-fg ansi-bold">+</span> orig_args
<span class="ansi-green-intense-fg ansi-bold">--&gt; 473</span><span class="ansi-yellow-intense-fg ansi-bold">             </span><span class="ansi-green-intense-fg ansi-bold">return</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_call_chain<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    474</span> 
<span class="ansi-green-fg">    475</span> <span class="ansi-red-intense-fg ansi-bold"># XXX probably also want an abstract factory that knows when it makes</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">_call_chain</span><span class="ansi-blue-intense-fg ansi-bold">(self, chain, kind, meth_name, *args)</span>
<span class="ansi-green-fg">    405</span>             func <span class="ansi-yellow-intense-fg ansi-bold">=</span> getattr<span class="ansi-yellow-intense-fg ansi-bold">(</span>handler<span class="ansi-yellow-intense-fg ansi-bold">,</span> meth_name<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    406</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 407</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>result <span class="ansi-yellow-intense-fg ansi-bold">=</span> func<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    408</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> result <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> None<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    409</span>                 <span class="ansi-green-intense-fg ansi-bold">return</span> result

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">http_error_default</span><span class="ansi-blue-intense-fg ansi-bold">(self, req, fp, code, msg, hdrs)</span>
<span class="ansi-green-fg">    554</span> <span class="ansi-green-intense-fg ansi-bold">class</span> HTTPDefaultErrorHandler<span class="ansi-yellow-intense-fg ansi-bold">(</span>BaseHandler<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    555</span>     <span class="ansi-green-intense-fg ansi-bold">def</span> http_error_default<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> req<span class="ansi-yellow-intense-fg ansi-bold">,</span> fp<span class="ansi-yellow-intense-fg ansi-bold">,</span> code<span class="ansi-yellow-intense-fg ansi-bold">,</span> msg<span class="ansi-yellow-intense-fg ansi-bold">,</span> hdrs<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 556</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">raise</span> HTTPError<span class="ansi-yellow-intense-fg ansi-bold">(</span>req<span class="ansi-yellow-intense-fg ansi-bold">.</span>get_full_url<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> code<span class="ansi-yellow-intense-fg ansi-bold">,</span> msg<span class="ansi-yellow-intense-fg ansi-bold">,</span> hdrs<span class="ansi-yellow-intense-fg ansi-bold">,</span> fp<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    557</span> 
<span class="ansi-green-fg">    558</span> <span class="ansi-green-intense-fg ansi-bold">class</span> HTTPRedirectHandler<span class="ansi-yellow-intense-fg ansi-bold">(</span>BaseHandler<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>

<span class="ansi-red-intense-fg ansi-bold">HTTPError</span>: HTTP Error 403: Forbidden</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">urllib2</span>

<span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;script&gt;</span>
<span class="s1">code_show=true;</span>
<span class="s1">function code_toggle() {</span>
<span class="s1"> if (code_show){</span>
<span class="s1"> $(&#39;div.input&#39;).hide();</span>
<span class="s1"> } else {</span>
<span class="s1"> $(&#39;div.input&#39;).show();</span>
<span class="s1"> }</span>
<span class="s1"> code_show = !code_show</span>
<span class="s1">}</span>
<span class="s1">$( document ).ready(code_toggle);</span>
<span class="s1">&lt;/script&gt;</span>
<span class="s1">&lt;form action=&quot;javascript:code_toggle()&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Click here to toggle on/off the raw code.&quot;&gt;&lt;/form&gt;&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">HTTPError</span>                                 Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-1-a29bb284f827&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      2</span> <span class="ansi-green-intense-fg ansi-bold">import</span> urllib2
<span class="ansi-green-fg">      3</span> 
<span class="ansi-green-intense-fg ansi-bold">----&gt; 4</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>HTML<span class="ansi-yellow-intense-fg ansi-bold">(</span>urllib2<span class="ansi-yellow-intense-fg ansi-bold">.</span>urlopen<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">&#39;https://bootswatch.com/flatly/bootstrap.min.css&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>read<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      5</span> HTML(&#39;&#39;&#39;&lt;script&gt;
<span class="ansi-green-fg">      6</span> code_show<span class="ansi-yellow-intense-fg ansi-bold">=</span>true<span class="ansi-yellow-intense-fg ansi-bold">;</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">urlopen</span><span class="ansi-blue-intense-fg ansi-bold">(url, data, timeout, cafile, capath, cadefault, context)</span>
<span class="ansi-green-fg">    152</span>     <span class="ansi-green-intense-fg ansi-bold">else</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    153</span>         opener <span class="ansi-yellow-intense-fg ansi-bold">=</span> _opener
<span class="ansi-green-intense-fg ansi-bold">--&gt; 154</span><span class="ansi-yellow-intense-fg ansi-bold">     </span><span class="ansi-green-intense-fg ansi-bold">return</span> opener<span class="ansi-yellow-intense-fg ansi-bold">.</span>open<span class="ansi-yellow-intense-fg ansi-bold">(</span>url<span class="ansi-yellow-intense-fg ansi-bold">,</span> data<span class="ansi-yellow-intense-fg ansi-bold">,</span> timeout<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    155</span> 
<span class="ansi-green-fg">    156</span> <span class="ansi-green-intense-fg ansi-bold">def</span> install_opener<span class="ansi-yellow-intense-fg ansi-bold">(</span>opener<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">open</span><span class="ansi-blue-intense-fg ansi-bold">(self, fullurl, data, timeout)</span>
<span class="ansi-green-fg">    433</span>         <span class="ansi-green-intense-fg ansi-bold">for</span> processor <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>process_response<span class="ansi-yellow-intense-fg ansi-bold">.</span>get<span class="ansi-yellow-intense-fg ansi-bold">(</span>protocol<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    434</span>             meth <span class="ansi-yellow-intense-fg ansi-bold">=</span> getattr<span class="ansi-yellow-intense-fg ansi-bold">(</span>processor<span class="ansi-yellow-intense-fg ansi-bold">,</span> meth_name<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 435</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>response <span class="ansi-yellow-intense-fg ansi-bold">=</span> meth<span class="ansi-yellow-intense-fg ansi-bold">(</span>req<span class="ansi-yellow-intense-fg ansi-bold">,</span> response<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    436</span> 
<span class="ansi-green-fg">    437</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> response

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">http_response</span><span class="ansi-blue-intense-fg ansi-bold">(self, request, response)</span>
<span class="ansi-green-fg">    546</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-cyan-intense-fg ansi-bold">200</span> <span class="ansi-yellow-intense-fg ansi-bold">&lt;=</span> code <span class="ansi-yellow-intense-fg ansi-bold">&lt;</span> <span class="ansi-cyan-intense-fg ansi-bold">300</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    547</span>             response = self.parent.error(
<span class="ansi-green-intense-fg ansi-bold">--&gt; 548</span><span class="ansi-yellow-intense-fg ansi-bold">                 &#39;http&#39;, request, response, code, msg, hdrs)
</span><span class="ansi-green-fg">    549</span> 
<span class="ansi-green-fg">    550</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> response

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">error</span><span class="ansi-blue-intense-fg ansi-bold">(self, proto, *args)</span>
<span class="ansi-green-fg">    471</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> http_err<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    472</span>             args <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>dict<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-blue-intense-fg ansi-bold">&#39;default&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-blue-intense-fg ansi-bold">&#39;http_error_default&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-yellow-intense-fg ansi-bold">+</span> orig_args
<span class="ansi-green-intense-fg ansi-bold">--&gt; 473</span><span class="ansi-yellow-intense-fg ansi-bold">             </span><span class="ansi-green-intense-fg ansi-bold">return</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_call_chain<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    474</span> 
<span class="ansi-green-fg">    475</span> <span class="ansi-red-intense-fg ansi-bold"># XXX probably also want an abstract factory that knows when it makes</span>

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">_call_chain</span><span class="ansi-blue-intense-fg ansi-bold">(self, chain, kind, meth_name, *args)</span>
<span class="ansi-green-fg">    405</span>             func <span class="ansi-yellow-intense-fg ansi-bold">=</span> getattr<span class="ansi-yellow-intense-fg ansi-bold">(</span>handler<span class="ansi-yellow-intense-fg ansi-bold">,</span> meth_name<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    406</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 407</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>result <span class="ansi-yellow-intense-fg ansi-bold">=</span> func<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    408</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> result <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> None<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    409</span>                 <span class="ansi-green-intense-fg ansi-bold">return</span> result

<span class="ansi-green-intense-fg ansi-bold">C:\Users\Calvin\Anaconda2\lib\urllib2.pyc</span> in <span class="ansi-cyan-fg">http_error_default</span><span class="ansi-blue-intense-fg ansi-bold">(self, req, fp, code, msg, hdrs)</span>
<span class="ansi-green-fg">    554</span> <span class="ansi-green-intense-fg ansi-bold">class</span> HTTPDefaultErrorHandler<span class="ansi-yellow-intense-fg ansi-bold">(</span>BaseHandler<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    555</span>     <span class="ansi-green-intense-fg ansi-bold">def</span> http_error_default<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> req<span class="ansi-yellow-intense-fg ansi-bold">,</span> fp<span class="ansi-yellow-intense-fg ansi-bold">,</span> code<span class="ansi-yellow-intense-fg ansi-bold">,</span> msg<span class="ansi-yellow-intense-fg ansi-bold">,</span> hdrs<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 556</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">raise</span> HTTPError<span class="ansi-yellow-intense-fg ansi-bold">(</span>req<span class="ansi-yellow-intense-fg ansi-bold">.</span>get_full_url<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> code<span class="ansi-yellow-intense-fg ansi-bold">,</span> msg<span class="ansi-yellow-intense-fg ansi-bold">,</span> hdrs<span class="ansi-yellow-intense-fg ansi-bold">,</span> fp<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    557</span> 
<span class="ansi-green-fg">    558</span> <span class="ansi-green-intense-fg ansi-bold">class</span> HTTPRedirectHandler<span class="ansi-yellow-intense-fg ansi-bold">(</span>BaseHandler<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>

<span class="ansi-red-intense-fg ansi-bold">HTTPError</span>: HTTP Error 403: Forbidden</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Modified from <a href="https://github.com/JWarmenhoven/ISLR-python/blob/master/Notebooks/Chapter%208.ipynb">https://github.com/JWarmenhoven/ISLR-python/blob/master/Notebooks/Chapter%208.ipynb</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note the intrapage links:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><a href="#8.1.1-Regression-Trees">8.1.1 Regression Trees</a></li>
<li><a href="#8.1.2-Classification-Trees">8.1.2 Classification Trees</a></li>
<li><a href="#8.3.1-Fitting-Classification-Trees">Lab: 8.3.1 Fitting Classification Trees</a></li>
<li><a href="http://www.harvard.edu">Harvard Home Page</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">html</span>

&lt;a href=&quot;page1.html&quot; target=&quot;_self&quot;&gt;First Project Page&lt;/a&gt;
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">

<a href="page1.html" target="_self">First Project Page</a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Chapter-8---Tree-based-Methods">Chapter 8 - Tree-based Methods<a class="anchor-link" href="#Chapter-8---Tree-based-Methods">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># %load ../standard_import.txt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>

<span class="kn">import</span> <span class="nn">pydot</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="kn">from</span> <span class="nn">sklearn.cross_validation</span> <span class="kn">import</span> <span class="n">train_test_split</span><span class="p">,</span> <span class="n">cross_val_score</span>
<span class="kn">from</span> <span class="nn">sklearn.externals.six</span> <span class="kn">import</span> <span class="n">StringIO</span>  
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeRegressor</span><span class="p">,</span> <span class="n">DecisionTreeClassifier</span><span class="p">,</span> <span class="n">export_graphviz</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">BaggingClassifier</span><span class="p">,</span> <span class="n">RandomForestClassifier</span><span class="p">,</span> <span class="n">BaggingRegressor</span><span class="p">,</span> <span class="n">RandomForestRegressor</span><span class="p">,</span> <span class="n">GradientBoostingRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">mean_squared_error</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.notebook_repr_html&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;bmh&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">available</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[36]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[u&#39;dark_background&#39;, u&#39;bmh&#39;, u&#39;grayscale&#39;, u&#39;ggplot&#39;, u&#39;fivethirtyeight&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># This function creates images of tree models using pydot</span>
<span class="k">def</span> <span class="nf">print_tree</span><span class="p">(</span><span class="n">estimator</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">class_names</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">filled</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">estimator</span>
    <span class="n">names</span> <span class="o">=</span> <span class="n">features</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">filled</span>
    <span class="n">classn</span> <span class="o">=</span> <span class="n">class_names</span>
    
    <span class="n">dot_data</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
    <span class="n">export_graphviz</span><span class="p">(</span><span class="n">estimator</span><span class="p">,</span> <span class="n">out_file</span><span class="o">=</span><span class="n">dot_data</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">features</span><span class="p">,</span> <span class="n">class_names</span><span class="o">=</span><span class="n">classn</span><span class="p">,</span> <span class="n">filled</span><span class="o">=</span><span class="n">filled</span><span class="p">)</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">pydot</span><span class="o">.</span><span class="n">graph_from_dot_data</span><span class="p">(</span><span class="n">dot_data</span><span class="o">.</span><span class="n">getvalue</span><span class="p">())</span>
    <span class="k">return</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="8.1.1-Regression-Trees">8.1.1 Regression Trees<a class="anchor-link" href="#8.1.1-Regression-Trees">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In R, I exported the dataset from package 'ISLR' to a csv file.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Data/Hitters.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 263 entries, 1 to 321
Data columns (total 21 columns):
Unnamed: 0    263 non-null object
AtBat         263 non-null int64
Hits          263 non-null int64
HmRun         263 non-null int64
Runs          263 non-null int64
RBI           263 non-null int64
Walks         263 non-null int64
Years         263 non-null int64
CAtBat        263 non-null int64
CHits         263 non-null int64
CHmRun        263 non-null int64
CRuns         263 non-null int64
CRBI          263 non-null int64
CWalks        263 non-null int64
League        263 non-null object
Division      263 non-null object
PutOuts       263 non-null int64
Assists       263 non-null int64
Errors        263 non-null int64
Salary        263 non-null float64
NewLeague     263 non-null object
dtypes: float64(1), int64(16), object(4)
memory usage: 45.2+ KB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Years&#39;</span><span class="p">,</span> <span class="s1">&#39;Hits&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">as_matrix</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Salary</span><span class="o">.</span><span class="n">as_matrix</span><span class="p">())</span>

<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Salary</span><span class="o">.</span><span class="n">as_matrix</span><span class="p">())</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Salary&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Log(Salary)&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">regr</span> <span class="o">=</span> <span class="n">DecisionTreeRegressor</span><span class="p">(</span><span class="n">max_leaf_nodes</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">regr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[40]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>DecisionTreeRegressor(criterion=&#39;mse&#39;, max_depth=None, max_features=None,
           max_leaf_nodes=3, min_samples_leaf=1, min_samples_split=2,
           min_weight_fraction_leaf=0.0, presort=False, random_state=None,
           splitter=&#39;best&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Figure-8.2">Figure 8.2<a class="anchor-link" href="#Figure-8.2">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;Years&#39;</span><span class="p">,</span> <span class="s1">&#39;Hits&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="n">ymin</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">24</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">117.5</span><span class="p">,</span> <span class="mi">238</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mf">117.5</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;R1&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mf">117.5</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;R2&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;R3&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">170</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcMAAAF8CAYAAACzGtB+AAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAIABJREFUeJzt3X+YXVV97/H3njnJmckMk8ygGS59ZAIGVpRg0AoJDa03
ApVq7BXvpQUrolxiAK8NICSI90rNg14pSCVSEKKorWnzFFHa0gchktyqEeIDhGDKw2pjMLbFTHjy
g2SGyZnMzLl/nHMmZ34l5+y9z1l7nf15PQ8PmTOzz15nz5n9Peu7vmutIJ/PIyIikmZNrhsgIiLi
moKhiIiknoKhiIiknoKhiIiknoKhiIiknoKhiIikXsZ1A2pl//79oeeMdHR0cPDgwTibkwhdXV0A
7Nu3z3FLRETCiXJ/7uzsDKb6nnqGk2hubnbdBBERmUSt7s8KhiIiknoKhiIiknoKhiIiknoKhiIi
knoKhiIiknoKhiIiknoKhiIiknoKhiIiknoKhiIikno1W47NGDMNeAjoAbLA7cAvgQeLP/JvwNXW
2mFjzGeAy4ER4EvW2kfHPddc4NvF728HPmWtDb3cmoiISLla9gz/BHjNWvt7wMXAX1IIiLdYa88v
/swHjTGzgD8FFgG/D3x1kue6G7i1+FwB8N9q2G4REUmZWi7U/TDwveK/m4AjwH+31uaNMdOBk4AD
QB+wC2gHTgCGJ3mud1lrf1z89+MUguajk/ycRBDkegHIZ7sdt0REpL5qFgyttf0AxpgTKATGzxUD
YQ+wgUIgfJFCT+8/gJeAZuBLkzxd+UrjfcDMWrU7rTJ7N9O2bRkA/QvWMnTiYsctEhGpn5oW0Bhj
3gJsBP7KWrsewFq7y1p7BvAAhfTnxRR6iXOAU4BLjDHnjHuqkbJ/n0AhkEpMglwvbduW0ZTbTVNu
N23blo32EkVE0qCWBTTdwJPAddbaTcXH/h74jLV2B4Ue3jCwHxiw1g4Wf+YAE3t+W40x77HW/jPw
B8BTxzt/R0dHpK0+Ojs7Qx+bdONf2+EDE/cGa2lppWVW414DEfFXLe7PQT5fm6JMY8w9wKWALXv4
c8CfA4NAP4Vq0l5jzJ9R6CGOAD+x1q4yxrydQtXop4wxpwNrgekU0qnLjldNGmVz387OTvbv3x/2
8MQ61ua+SpOKiA+i3J+PtblvzYKhawqGEx1vp3sV0IhI0tUqGNaymlQ8oyAoImmlFWhERCT1FAxF
RCT1FAxFRCT1FAxFRCT1FAxFRCT1FAxFRCT1FAxFRCT1FAxFRCT1FAxFRCT1FAxFRCT1FAxFRCT1
FAxFRCT1FAwTJMj1alNdEREHFAwTIrN3Mx2bl9CxeQmZvZtdN0dEJFUUDBMgyPXStm0ZTbndNOV2
07ZtmXqIIiJ1pGAoIiKpp2CYAPlsN/0L1jKSPYmR7En0L1irjXZFROpIO90nxNCJizm4eBOgHedF
ROpNwTBBFARFRNxQmlRERFJPwVBERFJPwVBERFJPwVBERFJPwVBERFJPwVBERFJPwVBERFJPwbCB
aNcLEZFwFAwbhHa9EBEJT8GwAcS164V6liKSVgqGAqhnKSLppmDYAKLuehFHz1K9ShHxmRbqbhAu
d73I7N1M27ZlAPQvWMvQiYvren4RkajUM2wg+Wx3qEAYpWcZ13iliIhL6hkKUOxZLnwMgHzbaY5b
IyJSX+oZClAsoNmylI4tS6sqoIk6XikikgTqGcqYVCdA27ZlHFy8qeKg5nK8UkQkDgqGEgsFQRHx
mdKkolSniKSeeoYCKNUpIummYCijFARFJK2UJhURkdRTMBQRkdRTMBQRkdRTMGwgWixbqqX3jEiB
gmGD0BZMUi29Z0SOUjBsANrcV6qlBdZFxlIwFEC9BBFJNwXDBpCEzX3FL1p1SGQsTbpvEFpBRqql
94zIUeoZNhAXm/uK38K+Z0QajXqGAqiXICLppmAooxQERSStlCYVEZHUUzAUEZHUUzAUEZHUUzAU
EZHUUzAUEZHUUzAUEZHUUzAUEZHUUzAUEZHUUzAUEZHUUzCUWGgvRBHxmYKhRKa9EEXEdwqGEon2
QhSRRqBgKKOU6hSRtFIwFCB8qlN7IYpII9AWTjIm1QnQtm0ZBxdvqjioaS9EEfGdgqHAUP/kj2Ur
fwoFQRHxmdKkQj7TzsDcVaOpzoG5q8hn2l03S0SkbtQzFMjOZrh9HrmTLwNguH0eZGc7bpSISP0o
GAoAw10LGcm+GYB822mOWyMiUl9KkwpQrCbdspSOLUs1cV5EUkfBUGKZOK85iiLiM6VJJbLM3s20
bVsGQP+CtQyduNhxi/yyevVqHn/88QmPT58+na6uLs4991yuu+46Zs6cCcBvfvMb7rvvPp577jkO
Hz7MWWedxTXXXMPb3va2ejddpGEoGMroxPnygFbpVImocxSlYMaMGaxZs2bMY4cOHWLr1q2sW7eO
V155hQcffJDXX3+dT33qU2SzWW666SZmzJjB3/zN33DttdfyzW9+k7e+9a2OXoGI3xQMBYgwcT6G
OYoCTU1NnHnmmRMeX7RoEcPDw6MB8ZlnnmH37t2sX7+eU045BYCzzz6biy++mEceeYSVK1fWu+ki
DUHBUEaF6c2V5ii27rgDQHMUa6C9vXA9m5qaeP/7389ZZ501GggBMpkM+XyeI0eOuGqiiPcUDCWa
7GyGTpjPG2Y1AMMzTtUcxZCGh4fJ5/OjXx86dIhnn32WdevWMX/+fHp6egBGxw6Hhob493//d9au
XQvAhz70obq2t1QwpZS4NAIFQ4msaeQwM+zngcJ444jj9vior6+P888/f8LjM2fO5MILL+Saa66Z
8L2VK1fy9NNPA3DVVVdNmmatFRVNSaNRMBwnyPVy+MBBoMN1U7ygApp4tLa2ct999wGQy+V49NFH
2bBhA1deeSWXX375pMdceeWVXHHFFfzsZz/j29/+Nnv37uWWW26peVv1O5dGpGBYpvzT7hF92pU6
am5uZt68eaNfL1iwgKamJtasWUMmk+HSSy+dcMyCBQsAeOc738ng4CAPP/wwV111FbNnK00tUi1N
ui/Sju3haD/D2rnppps46aSTuPfee/nVr34FwAsvvMDGjRsn/Oy8efPI5/O89tprVZ0jzGIJ+p1L
I1IwlMhGmlp4w6zmDbOakaYW183xSpDrJRg5TBAEE77X2trKypUrGRwc5K677gLgRz/6Ebfddht7
9uwZ87NPP/0006dPZ86cORWfO+yGznB0Ks7BxZuUQZGGoGBYpE+7IeX2kDm0nRn288ywnydzaDvk
9hz/uHGiLufm43JwpWA0bc8PyQ9PPi3ivPPOY8mSJTz33HM8+eSTfOQjH2HGjBnccMMNbNy4kaef
fprVq1ezYcMGli9fTltbW0XnjiMTks92629EGoaCYZnSp93BC57Rp90KBUN9tO64Y/Sm2rrjDoKh
vqqeI0oPJY7jXRgTjEYGaBp5Y8pgdP3119Pa2srXvvY1Zs2axdq1a+np6eErX/kKt9xyC7t27eKL
X/wiH/nIR+r8KkQaR1A+r6mR7N+/P/QL6+zsZP/+/XE2JxG6uroA2Ldv36TfDzNvLMj10rF5yWhl
4Uj2pKoqC10fX3oOqO98uaB/Jx1blo5t98LH6rp9lqZHhKc5lu5EuT93dnZOHI8oUs+wgURJFYbt
XfmeXnbVqyyt3FO6bi5W7tG4Xzg+ZiLk+NQznISPPcNKPuVP1TN03buK2kMJe3wcrzuK5n1bmLbn
CQCOzH4fw10L63JeCc/1e0Zq1zPUPMMGkIRJ0FHOFXqR8JiOd2W4ayEjbXMAv9ot0oiUJpVEpDqj
ViaGOb4RXrfUVxLeM1IbSpNOIm1p0pK0FgWk9XVLeHrPuKM0aQpE+QMbOnExBxc+Vjg+ZEVilD9s
n28OLtvs+rq5Pr+vdL0aj9KkCRHLXLstS+nYsrTuFW6qrgvH9XVzfX6RJFEwTICoq4G4XFdVa7qG
4/q6uT6/SNIoGIqISOopGCZA1Aq1fLab/vn3HD1+/j11G9NISnWdb2uTur5urs8vkjSqJp2Eq2rS
sMUMQa6X9p9fwlBXYaf0zL6f0nfuDyY8z/GqSaMI+ncC4Yt3oog6aT9qEUmU410XsLg+v0i1VE2a
AlFuSE1HDtDy628AhVUx6snlGpdRFxxwtfpNiesg5Pr8IkmhNGkDiCvlFSbV6HMhhs+FS43At9S2
NDb1DBtE1HmGvu5gUPogUN72evZ2RqbNYrB7KVBIT0tlfH2/SePSmOEk0rYCTdTFh5NwYws79hU5
TbpnA23bVxSOn38PQ7Mvqur4NNJi1xKFxgxlSq4X6k7CQtlhzxul7UGul7btK45e9+0rdFMX8ZTG
DCWWMUefF5z2ue0+0rQOSSKlSSeRtjRpic9TBFxJQorYFZdTUiS9apUmVTCchI/BEI5/c6nVPMM0
BwRI50097b9zcadWwVBp0gbiIt2n6QXpS7Pqdy6NSAU0MfM51Rj2/JpeICK+U88wRlG2xHG9nU7Y
8+ez3QyYLzC99zGm9z7GgPlCqnpJkL7J4yqAkUakMcNJhMlJR5k7Va95V7WYZ5j2OWNpHjtzuR6t
pJfGDEUSJs1jZy43kxapBQXDcYJcL4cP7Kr6uCipI9dppyS0PW2pRp+l+UOANC6lScvEkfJKcgFN
UucZ+pxq9LntEO73lvbUuLileYZVqjYYpuEPvKb7GdZ4L8Yk83XsLEog15qs4orGDCWxolTC5gnI
9SwfrUbN9Swnz5Tv18TxdewsSqozyPXSam9jsHspg91LabW3KU0q3lMwLHI9bueryHsCkqd1xx2j
x7fuuIMAP7IVaR47K20m3fLrb9B05IDr5ohEpmBYprSDweAFz4Qe+1EhiFTD1fslCUVTIkmiMcNJ
hM1JJ72YoiZjhrk9TO99nNYddwAwMHcVg91/ANnZFT+Fz4VLkcbdEvB+SXLBl8hkVEBTJZ8m3ddL
LYJhXAUwPgckVWSK1I8KaJJuqL+yxxpMPtvNwNvvPLoc29vvDHVDD7vYddRCkDjG/NK2ULdII1Iw
jEk+087A3FWj4ygDc1eRz7TXtQ2uxp9KY60HF29KXGo4qTTu5jfVBjQe7VoRl+xshtvnkTv5MgCG
2+dVNW4WlevxJ1c38lJQKX/t1RaChDk2DkMnLubgwscKbfFsjmIcfB1zdP23JrWhYBij4a6FjLTN
Aer7Bx7keml96ebRbZRaX7rZu4nrUeSDzOiHkHxQ3Vu61KuF+t+U03xT9fW1l6fWAdq2LdNYb4NQ
MIyZiz+K0sT18opOnyauRxHkeml/4ROjN6fsq+urvjm5+J2l+aaa5tcuyaUxw5i5GEuIa+K6xkEk
LcK+1zXW27gUDGMUdYPeoH/n6DqX9eZ6c+GwfL05+druOLh+7VHf6yoYa0yaZzgJF/MMoy58XMkY
TC02900KX4sxfG03RG+7iwXOG+G9nna1mmeoMcMECPp30rZ9xdExlO0rOLjwsapuEi4LQZLA19fs
a7ujFsD4WkAjjUtp0pjkCSbOM6xzEUvYyd+u01a+izLWGnWc1skYddTF2R0ucK73ukxFPcNxCjvd
HwQ6qjuOPNldD4xOb8jueoAj3RdXVMaSbzuN/vn3jEmT1nveWZp7lr4uBafeVThpfq/L1DRmWMb1
zanWYyi13NzXV1F+Z1HGn6KOXbke+3L9tyLppTHDGotj7lPUT5xpXIXEJc13Cy/qe129M0kajRnG
TIs2p4fLPQGTMPYV9b3u8m9Fc2plPKVJy7hO3dS6zL6WaVJfpwj4vJdiHMenkeu/c4lG+xlWKew8
wyDXS0tLKwP56gpooqrHH2itgmHzvi1M2/MEAEdmv4/hroVVP4fLm7oCSjg+XjfXY60SnfYzrJN8
tpuWWT11PafLUvPIcnto7nuZ7Kvryb66nua+lyG3p6qncL36jVLb1XP9OxOJm4KhRBIM9U1cF3Wo
r/Ljff4gkFI+/86SMNYqyaRq0gTIZ7snzjP05Q8001bZYw3Mx3RhmqmSVSajYJgAQa6XVnvb0f0I
7W30zXyHF3+oUTfIdb3BblS+F2OECeT5bDd9Z39rzDixT78zUBCUiaoKhsaYDmCWtfbXNWqP98L2
EpqOHKDl198ACoP6LoRteyxzzjzc8d33eYqRFhzID5F9dT0AQ2++oCbtE6mn444ZGmM+bIz5WjEQ
vgi8aIy5vvZN80/YooIkjGNELYiIUoSS2buZji1L6diyVMUYdRJl3M/nMUORqVRSQPNZ4EHgw8DT
wCnAR2vZKB9FvUG43CMtjptb2EnMPt9Y4/gQo8nfIslQSTAMrLW/AC4EfmitPVjhcVIlX0v801xm
H+VDjMvr5nL1HJEkqmTMcNgY88fAxcDNxpj3AyO1bZZ/ygtBPvu9Fv5+axb40JifmT59Ol1dXZx7
7rlcd911zJw5c8LzPPLII3z9619nw4YNdWp5tCKWqONmaS3GSMJ4Yz7IkDv5stF/V0MVmdJoKvkL
+AzwZ8Ct1trfGGO+B6yoaas8VbpBHPnxPcyYsYU1a9aM+f6hQ4fYunUr69at45VXXuHBBx8c8/0f
/vCH3H333bS11X9qgsubm4ox6i/I9dL+widGg3H21fVVB2MFQWkklQTDN1lrLyx9Ya1dbIy5AkhX
PqxC+Ww3+aYWmpqaOPPMMyd8f9GiRQwPD7Nu3Tp+9atfMWfOHF577TXuv/9+Hn/8cTo6Ogi7RF7U
+W5RNgYOOzUiCT0kF/MEfZ9SItJopgyGxpg/BKYBdxpjyscIpwP/F/jrGretYbW3twMQBIVl8u6/
/35+8YtfcOedd7Jp0yZ+/OMfV/2ccawPGpbPKTOX8wRdXjcF42i00ELjOVbP8GzgvcCbgU+XPT4E
/HktG9UohoeHx/TyDh06xLPPPsu6deuYP38+PT2FNVCvuOIK5syZQxAEbNy4sfoTla0PCjAyo4fh
tlMhOzuW11GJKL1RVzflJPRKXd5Mff4Q45LvCy3I5KYMhtba1cBqY8x11tr76timhtDX18f5558/
4fGZM2dy4YUXcs0114w+duqpp0Y6V/n6oACtO+7gyIm/S76OwTAK3ZTd0fWuThI+QEltHCtN+lFr
7XeBVmPMjeO/b629u6Yt81xrayv33Vf4DJHL5Xj00UfZsGEDV155JZdffvmkxwS5XoKRw9WfLNPG
yLRZo8u5Zfb91Lv1QaPeTMIuK6ZUoYjAsdOkpxf/fxZQXtERjPtaJtHc3My8efNGv16wYAFNTU2s
WbOGTCbDpZdeOubnS6mXaXtaYGTilItjyWe7GTBf8HOh76IoYzBR0la+LgVXorGr+tIHqMZ1rDTp
bcX/fzzqSYwxC4EvW2uXFL++BPgf1to/KX69qezH3wY8ZK29tez4APgP4F+LDz1d/n1f3HTTTTz/
/PPce++9nHPOOcyZMwcYm3oJhrsJhqcR5Hqrm+u3fcXR1M32FV6lbiKtkZnrpfWlm48ucv7SzfSd
+4OKX7vP4z8+t91nSus3pmOlSf+x7Ms8hR7h6NfW2j+s5ATGmJUUlm/rK359D/D7wNbSz5QFydOA
9cDt457mrcBzlZ4zCUqVouVaW1tZuXIlN954I3fddRf33nvvFMfWunXJEXnSPgG5nuW07rgDgIG5
q8hT2QX0efzH57Y3Al3nxnOsZdUeAb5X/P+Csn+X/qvUDgrrmpbuUJuBa2HSO9ZXgVXW2jfGPf7b
wG8ZYzYaY/7JGHNGFeevSpDr5fCBXZGfZ6q5gueddx5Llizhueee48knnyz8bNnyVvnmVkaaZlQ3
9kXAwNxVo8tjVRMQ4uJqjc2A/MTNhZXFF5EqHStN+u3Sv40xK6y13wlzAmvt940xc8q+/jtjzH8d
/3PGmHcAJ1hrN43/HvAq8CVr7SPGmMXAd4Fzw7TnWMrTTkcipJ2CIJi0Z1hy/fXX88wzz/C1r32N
888/nxkzZoxZvSbY8Wx15yNPdtcDo6nC7K4HONJ98ZQhoaurq6rnr6/dFDLlLo6Pem6XfG67SH0c
a0GTJG3u+1EKu2NM5lkK8xux1m42xpx8vCfr6Oigubm54pMfPrCL6ePSToMXPEPLrJ6Kn6Pk7ruP
XWjb2dnJ1q1bxzw2MjLC4MGDfOkLtzC94y00NVW+FvrIyEwOn3U3Lc9fBcDhdz1Ex+wzqnoOEZE0
S1IwfC+FlW0mcxuwl8JqOAuA424ufPDgwapOHuQGmD7uscOHBxjYv7+q5wkrcjHErEUMlg3q515/
fcof3bdvX+h2jhf076Rjy9LRDxEj2ZM4uPCxuldmqqpSJB06OzvZX4P78rEKaEq5tABoLvsaAGtt
tXfU/Lh/j++vdltrx7xCY8wTwAeALwPfNcZ8ADgCfLzKcx+/cSlfCSWsfKadgbmrxhawZNrr3w4P
rpWIJFcwVQ7VGHOsbZry1trKc5AO7N+/P1QVRdC/k0xmGkeyb4m7SVOfM9dLx+YlY3tXVQbDSnqW
pbHCqXqGYXtXLtdFTTv1iCVtovQMOzs7pyzmmDIY+i5MMIxj3lbYm1PUuXaVBNNjBcOorz3qTVk3
9eppnqGkUa2CoSosispTlU253bRtW1b1VIEoO5dH2TGdof7KHptCHK89n+0OHchc7vjuqzh+ZyJy
lIJhTFwGlNK43Zh5hg7G7cLQTV1EkkDBsKh84vtI9iS/1hzMzma4fR65ky8jd/JlDLfPq2r7Jq9f
ewxcLRgQRdp/ZyJx05jhOFEKaFyP4Rxv3K1WBTRRZfY8Qdv2GwDon/8XDM1+X/3O7fm4m8ZaJW1U
QFMl3wpooBCIoXa7JxwvGLoQ9O+k/fmPMtRV2Psxs++n9L3ru3WZpxhHFa+I1FetgmGSJt07Fddc
v9BFJHs2jNmCaWj2RaGex0dNRw7Q8utvAIWAJCJSbxozTICgf+foFkxNud20bV8x2ktsdPm20+if
f8/Rsa/599Rt9RqNu4lIiXqGRdq0052h2Rc522BXe9OFp/FKaSQaMxwnyPXS0tLKQL4j7iYdUz3S
pEkcMxQ/+V54JP5SAU2VwgZDqN1CsMeTxgIa8Y8Kj8QlFdCkQL1ThEmilJuIuKQCmpgF/TtTU/xS
LsrE9TiWY/Nx4ryv4io80u9MkkTBMEaZPRvo2LKUji1LyezZ4Lo5VQt7c4oSzFyvCSvhRFpLF/3O
JHkUDGPi+/SIsDcn12uLuj5/moVdS1e/M0kiBcNxglwvhw/scnZuFzeFSDeniDtmaK5fNEo1huPz
dfO57UmmYFim1Dua/tSiqlM3USeP+5o2imPHjCgptzQHU2/fM45/Z75eN/C77UmnqRVFcZWLh5ke
Edu5IyzUHWXeWBJ2uk9bNWojTG9w8Tvz+br53PY4aWqFJ1xNj4g6CTrKSizDXQsZaZsT6ti4pO2G
0Aj0O5MkUZq0yGXqJuq54ypIiLJbfZRjpXquU42+8vm6+dx2HyhNOo6r5dhK54bqPzFXmj7RCjSN
J23p4bj4fN18bnsclCatk3y2m5ZZnQw4WI4tSq+s76z7mbb3nwE4cuJ7Qpe8R2mH1J/PvyuX7zef
r5vPbU8ypUkbQe41gpF+sq+uJ/vqeoKRfsi9VtVTqEpN6knvN0kaBcMGEAzuo+1fbjo6ZvgvNxEM
Vp4K1SToaDTvqzp6v0kSKRg2gqZplT2WYC4Diut1VV1SIBcpUDCMmYubS9QJ/66r1FwGFNfrqrrk
6rq7fr+JTEYFNOMUlmM7CFRfTRp1rl+UgoKou8Xngwy5ky8b/Xe1olTClgIKQNu2ZXWbSOzy3K65
fu1R5rWK1IJ6hmWiLMcWtZcQx6f0fNtpoQJhkOul/YVP0PrKV2l95au0v/CJurfdR+rhRKO5qZIk
6hkWqYcSTtS2lwJKeY+63osdRDm3rz2cPAFvnPF5mvv+FYDh9jPIM+UULJGGp2AYk3y2m/7599C2
fQVAYdzOk5ujy4AEbgOKr8EsDkF+iOyr6wEYOP1Wx60RcUsr0JSJMuYX5Hpp//klDHWdX3iufT+l
79wfVHyDjTreWInjrUATdtyvHm1PKl9fuxZ9Fl9pBZo6KPUSWlpaGQqxHFvTkQO0/PobQOHmEubc
4N9i10louws+p7dFZCwV0IxTWI6tJ9RxUYspfC4o8LntaaTiH5GxlCadRJRueJj9DOtFC3XHz9c0
aYnWoxXfKE1aJy7nGUalG1v9+Z4i9rHNIrWgNGkZl/MMo0rrXL8kUIpYxH8KhkWug1kUPre9JOoy
dlpjU0SiUDCMSSMUJLgKKFF7ta57xQrEIv5TMCyKI5iVxo8OLt5U1/HCONruKqBE7dXG0StO864V
UehDgDQSFdCUiTrPENwVJEQp5EjzfLmoCy3ouvlZRSsynnqG44SdZ1ji8tNy6EKOoX5Gps3i8ClX
c/iUqxmZNguG+uNv4CSi9mqjHN8IY60u6LpJI1LPMEa+flrOZ05g4PTP0fbSzQD0v/1O8pkT6nb+
oRMXR9p+ytX0Btdrukp4moYk46lnGBOfPy0HjND20s1H2/7SzQSM1O38mb2b6diylI4tS8NvXxWi
V+zzOLFLpUXpx2wm7VFQSfM4r0xNPcO4TJZWHOqHbP2b4hPX425x9Cp9CgRxCHK9tNrbGOxeCkCr
vY2+me/w4jq4fr9JcqlnGJN8pp2BuatGPy0PzF1FPtPuulkVcTotZKoPEXWkSfPVKy1K3/Lrb9B0
5IDr5ohEpp7hOKGXY8vOZrh9HrmTLwNguH0eZGfH38AaiTpuF1bpQ0TrjjsAvPoQkQQuxr58Hiv1
ue1SW1qou0wcBTBJHpg/1kLdUV97lNfdvG8L0/Y8AcCR2e9juGth1c+RRq6vm+v3epTzu257FD63
PQ5aqLvG4hpLiPIGjfomD3t81Nce9aY83LWQkbY5QP1fu7dye2jue3l0p/qRGT0Mt51a12yEy2sd
9cObr+8TXyvWfaAxw4Twdkmyspty9tX1NPe9DLk9VT9NlHG7NFYHBkN9tO64Y7QCuHXHHQRDfa6b
VRc+V25HkdbXXS8KhkUui0iCXC+tL93MYPdSBruX0vrSzXVdkixPMLH4hymzCWPP7fimnNobRKat
ssdEpCIaXOAKAAARN0lEQVQKhmVKZfaDFzxT37VFCcj1LGd672NM732MXM/yioNRHALyZHc9MBqM
s7seIKDCIVfdlJ2sOtQIC8OHldbXntbXXS8qoJlElAHaMIJcLx2bl4yO2Y1kT6p6vLKSsYRaFdC4
LjxyOY7iegwndWOlZdL62tP6uktUQCPHlA8yo9M68kH1v9Yok8+jTlyPGlBcLceWhAncab0hQnpf
e1pfd60pGCZAacxuzFy7KtKkQa6X9hc+MXpTzr663pubchKqeEVENGaYAAF5pv3net4443/zxhn/
m2n/ub7yMbuYpLEiMyqN4Yg0Do0ZTqLeY4YAmT0baNu+AoD++fcwNPuiqo6vZK7fVGOGcYxZRuF6
3C0ql2M4Po8fBf07gfArHum6p1OtxgzVM0yAINdL2/YVR6cHbF9R/W7t+aHRuX5BfqhGLa0N33d+
cLW2qc+9+cyeDUd3KtmzofrjHb52n6+7TE3BsAFEnaeYhHSfFsuujs/zK4P+nRM//BV7iRUd7/C1
+3zd5dhUQDNO6IW6I4i6eHBpnmLYAhyIXpHpc8pLpBoj02aNbl+V2fdTx62RuKhnWKaU/pj+1KK6
pz+ipAoD8hNXgQlRgBO2d+ZzystXSejNh5VvO23i5sBVfIhy+drz2W4GzBdGF8gYMF/w5rrLsamA
psh1EUkUlbb9WJPuQ5+7fycdW5aOPffCxyq+ufl83eOyevVqHn/88QmPT58+na6uLs4991yuu+46
Zs6cCcDu3bt58MEHef755zn4+gF+67f+C5d8+FIuueQSgqB+KxdF5WM2Qe9X9zTpPgXC/nFrjzb/
zZgxgzVr1ox57NChQ2zdupV169bxyiuv8OCDD3Lo0CGuvfZampubWb58OW9+85t5+umnueuuu9i1
axc33HBD3docNRhF3TdT73GJk4JhkeuA4usqLKWUV/m0kDApL5eBPAnjlU1NTZx55pkTHl+0aBHD
w8OjAfHnP/85u3fvZv369fT09ADw7ne/m/7+fr73ve/xyU9+kra22q8N6/t0mLCS8H6V2lAwLFPa
7T2TmcZQ9i11O6/vq7AMzb6IgwsfK7QhxKd9V4Ec/Lipt7e3A4WA+aY3vYk/+qM/Gg2EJaeeeioj
IyPs3bu35sEwCcvQueTy/Sq1o2BYxocbY1L5mPJK2k19eHiY8jH8Q4cO8eyzz7Ju3Trmz59PT08P
PT09XHDBBROO3bhxI21tbZx88sn1bHJqKQg2HgXDIpc3RqVe/BZHmrWvr4/zzz9/wuMzZ87kwgsv
5Jprrpny2G9961u8+OKLXHvttWQytf+T1vtVGpGCYUIo9VJ/cdzU48omtLa2ct999wGQy+V49NFH
2bBhA1deeSWXX375lMetXbuWhx56iAsvvJCPfexjoc4dht6v0mgUDIuS8GlXN5X6i3JTjzOb0Nzc
zLx580a/XrBgAU1NTaxZs4ZMJsOll1465ucPHz7M7bffzlNPPcUHP/hBPvvZz1Z9zqh8fr8moWhK
kkXBsEzpxtjS0spQPtwKNFH+yHz+A/W57Ult80033cTzzz/PvffeyznnnMOcOXMA2L9/PzfeeCPW
Wq699tq69ggbgWoDZDJagWacfLabllk9x//BSURZScXnVVh8bnsUca6EMtlk+dbWVlauXMng4CB3
3XUXAAMDA3z6059m586d3H777QqEVdLaojIV9QxjEiVllrSqxmr43PY4xDV2NtVKUOeddx5Llixh
06ZNPPnkk7z88sv88pe/5NJLL2X27Nls3759zM/PnTuXlpaW0O0QSSsFw3FcLNQdF59TlT6Ler2D
IDjmMmrXX389zzzzDGvWrGFwcJAgCHj44Yd5+OGHJzzPd77zHU4//fRI7WlkSagNkGTS2qRloo4l
RDm+ks15o577eGuThg2mGoMR3+iDo79qtTapgmFRXAvwuggocSzUHTWg6eYiIvWgne4bWByD+iPT
ZnH4lKs5fMrVjEybVfX5o2wODNqc15Ug16sCEJEYKBgWxVEZ6KqqMuoea6XNgUvH53qWV705sNRf
Wqt4RWpBadJxgkOWpqYmhtuqK0KImmZ1mSbVHm3+0e9M0kr7GdZBZs+GMVsRDc2+qG7n1vJWUpWh
/skfy9a/KSKNQGnSoqB/J23bVxwdt9u+YnQn7krEOQG7WvlsN31nf4uBU69n4NTr6Tv7W1WnSQfm
rhpt+8DcValKk/o47pbPtE/8nWXaXTdLxFvqGcYoH2TInXzZ6L+rEbmaMz9E9tX1AAy9eeIWP8c8
ljzZXQ8w2L0UgOyuBzjSfTHV5Jl9rSb1dlpIdjZDJ8znDbMagOEZp0J2tuNGidRWLeeBa8ywTJQ0
aZQxnKjjP66nVvgaUHwfd/P1uouEEcf7XWOGFRqZ1jX6SXtkWpfj1tRX2DHLtC/H5oquu6RJPd7v
GjMsCnK9nLD1Ctpf/CTtL36SE7ZeUdU4UpQxw6jjjXGNV6ZtrqDLcV4RSRalSYtcr0AT9dhKjj/e
cmxhxZG+qPVrr+W5XVGaVNKk1mlSBcMyjX5zqVUwhGgBxeWasL7zNZCLhBHkemlpaWUg5H6zCoZV
iHqxk6yWwTCsehUPiUhj0NqkdRJlc98083GuXhLouokkg4JhA4l6Yw17fJQ1MpNSPOSC1hYVSQ6l
SScRpRvuStT9DMOOuyWh8CiO4+tN6V2RcJQmlSlF3QIqji2kooo6rSNt00JEKWaJl4KhROJzmtIl
XbdolGKWuClNOglXadJaT09I8k73vqU54+L6dbs+fxhKMaebtnBqcFGDUdQtoKIeH+VG5Ps8wSgB
xeUN3PfrLhIn9QwnEeWTR2nbp3zbaZUfU6dPuo04z9A1XwOK79e9ed8Wpu15AoAjs9/HcNdCxy2S
elEBjQcyezbQsWUpHVuWktmzwXVzpMaSUHiUVqUty7KvrifID7lujjQABcOYRNkcOM3FFGl+7S75
fN31IURqQWOGCTHS1HJ0+6imFsetqa+o45VRhR3zKwWU8jSpLwEFol93H4tvRKaiYBiTfNtp9M+/
Z8zmwBWPG+b2kDm0ndYddwAwMHcVgzPekqqdy13dUF0XLrkWts0ux0p9/xAiyaQCmknUvYCmfycd
W5aOLWZY+FhVz1GJJBbQuOR7EYkrSblu6pmmk6ZW+CLTFs8xYZ5HJEUUBCVOKqCJUdhVMXwuZvCZ
rns4um7SiJQmnUSYbngcqaNap32UJp2c0m3h6LqJC0qTpoBuKm7ouoej6yaNRGnSmCh1JCLiL/UM
Y+R7mb2ISFopGMZMQdANjV+JL/ReTSalScV72ttOfKH3anIpGIrXtE6l+ELv1WRTMBQRkdRTMBSv
qYpXfKH3arKpgEa8pype8YXeq8mlYCgNQTcW8YXeq8mkNGkDCXK9GpAXEQlBwbBBqGRbRCQ8BcMG
oJJtEZFoFAxFRCT1FAwbgEq2RUSiUTVpg1DJtohIeAqGDURBUEQkHKVJRUQk9RQMRUQk9RQMRUQk
9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQM
RUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk9RQMRUQk
9RQMRUQk9TKuG5A0Qa6XwwcOAh2umyIiInWinmGZzN7NdGxewvSnFpHZu9l1c0REpE4UDIuCXC9t
25bRlNtNU243bduWEeR6XTdLRETqIFHB0Biz0BizaZLHP2iM+bkx5mfGmKtdtE1ERBpXYoKhMWYl
sBbIjnt8GnA3cBHwHuCTxpjZcZ8/n+2mf8FaRrInMZI9if4Fa8lnu6t+niDXqx6liIhnEhMMgR3A
h4Fg3ONvA3ZYa1+31h4Bfgr8Xi0aMHTiYg4u3sTgBc8wdOLiqo8vjTl2bF6iMUcREY8kJhhaa78P
DE3yrQ7g9bKvDwEza9WOfLabllk9VR+nMUcREX/5MLXideCEsq9PAPYf76COjg6am5tDn7Szs7Oq
ny9MxxirpaWVllnVPU89VPvaRESSpBb3MB+C4cvA6caYTqCfQor0zuMddPDgxOBUqc7OTvbvP268
HaeDIwvW0rZtGQD9C9YylO9goOrnqb3qX5uISDKEuz8fPXYqSQyGeQBjzOVAu7V2rTHmRuAJCmnd
b1prf+OygVMpjTkCoYpvRETEjSCfz7tuQ03s378/9AuL8skjybq6ugDYt2+f45aIiIQTsWc4vkBz
VGIKaERERFxRMBQRkdRTMBQRkdRTMBQRkdRr2AIaERGRSqlnKCIiqadgKCIiqadgKCIiqadgKCIi
qadgKCIiqadgKCIiqZfEhbrryhizEPiytXbJuMc/CPwfCnssPmSt/YaL9kVhjJkNPAdcYK3917LH
bwD+J/Ba8aHl5d8XEak3Y8w04CGgB8gCt1tr/7H4vY8A/8ta+zvjjmkC7gPeAeSAq621vwxz/lQH
Q2PMSuCjQN+4x6cBdwPvBt4ANhtj/sFau6f+rQyn+BoeoLDt1XjvAq6w1m6tb6tERKb0J8Br1tor
ilv2vQD8ozHmncBVUxzzIWC6tfZ3ih2brxQfq1ra06Q7gA8D41cyfxuww1r7urX2CPBTCvso+uRO
4H5gsu2ufhu41RjzE2PMLfVtlojIpB4GPl/8dxNwxBjTBXwRuJ6J92mAxcAPAay1Wyh0YEJJdTC0
1n6fQhp0vA7g9bKvDwEz69KoGBhjPk7hE9aTxYfGv4n+FlgOvBc43xjzgTo2T0RkAmttv7W2zxhz
AkcD40PAjYzL3pXpAMp3ch8upk6rlupgeAyvAyeUfX0C4NMGh58ALjLGbALOBr5THD8sucdau6/Y
6/0n4J0uGikiUs4Y8xZgI/BXwL8BcylkuP4WeLsx5u5xhxxk7L26yVo7EubcqR4zPIaXgdOLeet+
CinSO902qXLW2veU/l0MiMtL453GmJnAL4wxb6MwHvpe4JtOGioiUmSM6QaeBK6z1m4qPjy/+L0e
YL219sZxh20GPgg8bIxZBLwY9vwKhgV5AGPM5UC7tXatMeZG4AkKvedvWmsnG3vzRTDutd0KbKJQ
ffUja+0P3TZPRIRbKQxHfd4YUxo7/ANr7WEKQz2ju0oYY74DfA74AYUs2Obitz4R9uTatUJERFJP
Y4YiIpJ6CoYiIpJ6CoYiIpJ6CoYiIpJ6CoYiIpJ6CoYiIpJ6mmco4gFjzL0U1pRdXFphwxjTDPyE
wlzRzx/reBE5NvUMRfzwGaAd+GzZY58FBoHbnLRIpIFo0r2IJ4wx8yksP/V7FD7IPkZhlf73A9cW
H9tLYd83a4w5A/hLoA04mcKWOH9src0ZY3LAo8ACClvn/CGFrW8Gi8/xcWvt7jq+PBGn1DMU8YS1
djuFJai+WfzvKuAM4GPA71pr30VhDd3vFw+5GvhWcUPUucCpFAInwDTgH6y184A9wArg3dbacyis
D3luXV6USEIoGIp4xFp7L4XtbJ621j4BfIBCoPuZMWYrcAfQaYyZBawC9hpjbga+TqF32F72dD8p
/v8/gG3AVmPMncAL1tp/qMsLEkkIBUMR/7wC/LL47ybgr62177TWvhN4F3COtfYAsB5YBvwKuBt4
nrF7W/YBWGvzxZ1OrqSQIv0LY8xX6/FCRJJCwVDET6Wg9iRwuTHmpOLX1wJPFf/9+8Bqa+3Dxa8X
As3jn8gYs8AYsx142Vr7ZeCrwDtq1nKRBNLUChE/5QGstU8aY+4ANhhjRihsTH1J8WduBX5gjNlH
Ye/K/0chpTp6fPE5thlj/g541hjTV/zZP63LqxBJCFWTiohI6ilNKiIiqadgKCIiqadgKCIiqadg
KCIiqadgKCIiqadgKCIiqadgKCIiqadgKCIiqff/AeLVgjVlyRC2AAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pruning">Pruning<a class="anchor-link" href="#Pruning">&#182;</a></h3><p>This is currently not supported in scikit-learn. See first point under 'disadvantages of decision trees in the <A href='http://scikit-learn.github.io/dev/modules/tree.html#'>documentation</A>. Implementation has been <A href='https://github.com/scikit-learn/scikit-learn/pull/941'>discussed</A> but Random Forests have better predictive qualities than a single pruned tree anyway if I understand correctly.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="8.1.2-Classification-Trees">8.1.2 Classification Trees<a class="anchor-link" href="#8.1.2-Classification-Trees">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dataset available on <a href="http://www-bcf.usc.edu/~gareth/ISL/data.html">http://www-bcf.usc.edu/~gareth/ISL/data.html</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Data/Heart.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df2</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 297 entries, 0 to 301
Data columns (total 14 columns):
Age          297 non-null int64
Sex          297 non-null int64
ChestPain    297 non-null object
RestBP       297 non-null int64
Chol         297 non-null int64
Fbs          297 non-null int64
RestECG      297 non-null int64
MaxHR        297 non-null int64
ExAng        297 non-null int64
Oldpeak      297 non-null float64
Slope        297 non-null int64
Ca           297 non-null float64
Thal         297 non-null object
AHD          297 non-null object
dtypes: float64(2), int64(9), object(3)
memory usage: 34.8+ KB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">ChestPain</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">ChestPain</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df2</span><span class="o">.</span><span class="n">Thal</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">Thal</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">X2</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;AHD&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">AHD</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">clf</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_leaf_nodes</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">max_features</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X2</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[45]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>DecisionTreeClassifier(class_weight=None, criterion=&#39;gini&#39;, max_depth=None,
            max_features=3, max_leaf_nodes=6, min_samples_leaf=1,
            min_samples_split=2, min_weight_fraction_leaf=0.0,
            presort=False, random_state=None, splitter=&#39;best&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X2</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[46]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.80471380471380471</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Lab">Lab<a class="anchor-link" href="#Lab">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="8.3.1-Fitting-Classification-Trees">8.3.1 Fitting Classification Trees<a class="anchor-link" href="#8.3.1-Fitting-Classification-Trees">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In R, I exported the dataset from package 'ISLR' to a csv file.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Data/Carseats.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df3</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[47]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>   Sales  CompPrice  Income  Advertising  Population  Price ShelveLoc  Age  \
0   9.50        138      73           11         276    120       Bad   42   
1  11.22        111      48           16         260     83      Good   65   
2  10.06        113      35           10         269     80    Medium   59   
3   7.40        117     100            4         466     97    Medium   55   
4   4.15        141      64            3         340    128       Bad   38   

   Education Urban   US  
0         17   Yes  Yes  
1         10   Yes  Yes  
2         12   Yes  Yes  
3         14   Yes  Yes  
4         13   Yes   No  </pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">Sales</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">8</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">df3</span><span class="o">.</span><span class="n">ShelveLoc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df3</span><span class="o">.</span><span class="n">ShelveLoc</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">df3</span><span class="o">.</span><span class="n">Urban</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">Urban</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s1">&#39;No&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="n">df3</span><span class="o">.</span><span class="n">US</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">US</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s1">&#39;No&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="n">df3</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 400 entries, 0 to 399
Data columns (total 12 columns):
Sales          400 non-null float64
CompPrice      400 non-null int64
Income         400 non-null int64
Advertising    400 non-null int64
Population     400 non-null int64
Price          400 non-null int64
ShelveLoc      400 non-null int64
Age            400 non-null int64
Education      400 non-null int64
Urban          400 non-null int64
US             400 non-null int64
High           400 non-null int64
dtypes: float64(1), int64(11)
memory usage: 37.6 KB
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">df3</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[49]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>   Sales  CompPrice  Income  Advertising  Population  Price  ShelveLoc  Age  \
0   9.50        138      73           11         276    120          0   42   
1  11.22        111      48           16         260     83          1   65   
2  10.06        113      35           10         269     80          2   59   
3   7.40        117     100            4         466     97          2   55   
4   4.15        141      64            3         340    128          0   38   

   Education  Urban  US  High  
0         17      1   1     1  
1         10      1   1     1  
2         12      1   1     1  
3         14      1   1     0  
4         13      1   0     0  </pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="s1">&#39;High&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">High</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">train_size</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">clf</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[51]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>DecisionTreeClassifier(class_weight=None, criterion=&#39;gini&#39;, max_depth=6,
            max_features=None, max_leaf_nodes=None, min_samples_leaf=1,
            min_samples_split=2, min_weight_fraction_leaf=0.0,
            presort=False, random_state=None, splitter=&#39;best&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>             precision    recall  f1-score   support

          0       0.89      0.99      0.93       236
          1       0.98      0.82      0.89       164

avg / total       0.92      0.92      0.92       400

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">cm</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">pred</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">])</span>
<span class="n">cm</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Predicted&#39;</span>
<span class="n">cm</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;True&#39;</span>
<span class="n">cm</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[54]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>True       No  Yes
Predicted         
No         99   31
Yes        19   51</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Precision of the model using test data is 74%</span>
<span class="k">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">pred</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>             precision    recall  f1-score   support

          0       0.76      0.84      0.80       118
          1       0.73      0.62      0.67        82

avg / total       0.75      0.75      0.75       200

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pruning not implemented in scikit-learn.</p>

</div>
</div>
</div>